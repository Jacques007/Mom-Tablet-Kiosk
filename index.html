<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>Ouma Hannetjie se Tablet</title>

	<link rel="stylesheet" href="styles\body.css"> <!-- Body -->
	<link rel="stylesheet" href="styles\photos_style.css"> <!-- Photos -->
	<link rel="stylesheet" href="styles\tic_tac_toe.css"> <!-- Tic Tac Toe -->
	<link rel="stylesheet" href="styles\contacts.css"> <!-- Kontak Jacques & Hannelie -->
	<link rel="stylesheet" href="styles\tasks.css"> <!-- Kontak Jacques & Hannelie -->

</head>
  
<body>



<div class="container">
      <!-- <h1>Kontak</h1> -->
	

      <hr class="centered-line">

      <div class="buttons">
        <!-- Use data attributes to store name and number -->
        <button class="btn btn-jacques" data-name="Jacques" data-tel="+27845976056">
          Kontak Jacques
        </button>

        <button class="btn btn-hannelie" data-name="Hannelie" data-tel="+27742850394">
          Kontak Hannelie
        </button>
      </div>

      <hr class="centered-line">
    </div>

    <!-- Custom confirmation modal -->
    <div id="confirmModal" class="modal" hidden aria-labelledby="confirmTitle" role="dialog" aria-modal="true">
      <div class="modal-dialog">
        <h2 id="confirmTitle" class="modal-title">Confirm Call</h2>
        <p id="confirmText">Are you sure you want to call?</p>
        <div class="modal-actions">
          <button id="confirmNo" class="modal-btn neutral">No</button>
          <button id="confirmYes" class="modal-btn primary">Yes</button>
        </div>
      </div>
    </div>

    <script>
      const modal = document.getElementById('confirmModal');
      const confirmText = document.getElementById('confirmText');
      const yesBtn = document.getElementById('confirmYes');
      const noBtn  = document.getElementById('confirmNo');

      let pendingTel = null;

      // Open modal for any contact button
      document.querySelectorAll('button[data-tel]').forEach(btn => {
        btn.addEventListener('click', () => {
          const name = btn.dataset.name || 'Contact';
          const tel  = btn.dataset.tel;
          pendingTel = tel;

          confirmText.textContent = `Are you sure you want to call ${name}?`;
          openModal();
        });
      });

      // Modal behaviors
      function openModal() {
        modal.hidden = false;
        // prevent background scroll on mobile
        document.body.style.overflow = 'hidden';
        // move focus to "Yes" for quick confirm
        yesBtn.focus();
      }

      function closeModal() {
        modal.hidden = true;
        document.body.style.overflow = '';
      }

      yesBtn.addEventListener('click', () => {
        const tel = pendingTel;
        closeModal();
        if (tel) {
          // Navigate to tel: to open dialer
          window.location.href = `tel:${tel}`;
        }
      });

      noBtn.addEventListener('click', () => {
        closeModal();
        pendingTel = null;
      });

      // Close modal if user clicks backdrop (outside the dialog)
      modal.addEventListener('click', (e) => {
        if (e.target === modal) {
          closeModal();
          pendingTel = null;
        }
      });

      // Escape key closes modal
      document.addEventListener('keydown', (e) => {
        if (!modal.hidden && e.key === 'Escape') {
          closeModal();
          pendingTel = null;
        }
      });
    </script>
	


    
    <!-- ******************************************************************************************************** -->
	<!-- **                                       V A N D A G                                                  ** -->
    <!-- ******************************************************************************************************** -->
    
    <!-- <h1>Nuus vir vandag?</h1> --!>
    
    <p id="date" style="font-size: 3rem ; font-weight: bold; text-align: center; color: blue;"></p>

	
	<br>  <!-- Blank line -->

	<!-- Vandag se weer -->
    <!-- <p style="font-size: 2rem;">Vandag se weer is sonskyn 27Â°C</p> -->
	<div id="highC" style="font-size: 2rem;">Loadingâ€¦</div>
	<br>  <!-- Blank line -->

    <div id="time" style="font-size: 4rem; font-weight: bold;color: blue;"></div>

	
    <!-- Take vir vandag -->

	<ul id="today" class="todayList"></ul>

	
    <br>  <!-- Blank line -->
    <br><!-- Blank line -->
    <br><!-- Blank line -->



	
    <!-- ******************************************************************************************************** -->
	<!-- **                                           M Ã´ R E                                                  ** -->
    <!-- ******************************************************************************************************** -->
    
    <p id="date2" style="font-size: 3rem; font-weight: bold; text-align: center; color: blue;"></p>
  
	<ul id="tomorrow" class="tomorrowList"></ul>
    
	
 <!-- lyn -->    
<hr class="centered-line">

    <br>  <!-- Blank line -->

	   
    <!-- ******************************************************************************************************** -->
	<!-- **                                       P H O T O S                                                  ** -->
    <!-- ******************************************************************************************************** -->

    <div id="gallery" class="gallery-container">
       <!-- Images and headings will be inserted here by JavaScript -->
    </div>

    <script src="photo_script.js"></script> <!-- Your JavaScript file -->
	
	
    <br>  <!-- Blank line -->

    <hr class="centered-line">
	
	<!-- ******************************************************************************************************** -->
	<!-- **                                           T I C  T A C  T O E                                      ** -->
    <!-- ******************************************************************************************************** -->


<h1>ðŸŽ® Tic Tac Toe ðŸŽ®</h1>
  <div id="game">
    <div id="board" class="board">
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
      <div class="cell"></div>
    </div>
    <div id="status">Your Turn! ðŸ‘†</div>
    <button id="restart">New Game ðŸ”„</button>
  </div>


	
	
    <hr class="centered-line">

<br>  <!-- Blank line -->
    
   <!-- Boek... -->
  
  <style>
    .text-block {
      white-space: pre-line;    /* respect \n line breaks but wrap long lines */
      overflow-wrap: anywhere;  /* prevent long words/URLs from overflowing */
      font-size: 2rem;           /*  increase font size */
      line-height: 1.8;         /* nicer readability */
      max-width: 65ch;          /* optional: limit line width for readability */
      margin: 2rem auto;        /* center block */
      font-family: system-ui, sans-serif;
    }
  </style>

<bodyStories>
  <h1>Hier is iets om te lees:</h1>
  <div id="content" class="text-block">Loadingâ€¦</div>

  <script>
    fetch('Stories.txt')
      .then(r => {
        if (!r.ok) throw new Error('Failed to load content.txt');
        return r.text();
      })
      .then(text => {
        document.getElementById('content').textContent = text;
      })
      .catch(err => {
        document.getElementById('content').textContent = 'Could not load content.';
        console.error(err);
      });
  </script>
</bodyStories>   


 <!-- lyn -->    
<hr class="centered-line">

<style>
  .centered-line {
    width: 60%;              /* make it shorter than full width */
    margin: 2rem auto;       /* auto left/right margins center it */
    border: none;            /* remove default border */
    height: 4px;             /* thickness of the line */
    background-color: #333;  /* color of the line */
  }
</style>

 




<script>
          function updateTime() {
          const now = new Date();
          const timeString = now.getHours().toString().padStart(2, '0') + ':' +
                   now.getMinutes().toString().padStart(2, '0');

          document.getElementById('time').textContent = timeString;
          }

          updateTime(); // show immediately
          setInterval(updateTime,60000); // update every minute
     </script>

    <script>
        const days = ["Sondag", "Maandag", "Dinsdag", "Woensdag", "Donderdag", "Vrydag", "Saterdag"];
        const months = ["Januarie", "Februarie", "Maart", "April", "Mei", "Junie",
                    "Julie", "Augustus", "September", "Oktober", "November", "Desember"];

        const today = new Date();
        const dd = String(today.getDate()).padStart(2, '0');
        const dayName = days[today.getDay()];
        const mmm = months[today.getMonth()];
        const ccyy = today.getFullYear();


        document.getElementById("date").innerText = "Vandag is "  + dayName + " " + dd + " " + mmm + " " + ccyy;

        const tomorrow = new Date(today);
        tomorrow.setDate(today.getDate() + 1); // Add 1 day
        const tdayName = days[tomorrow.getDay()];
        const tdd = String(tomorrow.getDate()).padStart(2, '0');
        const tmmm = months[tomorrow.getMonth()];
        const tccyy = tomorrow.getFullYear();
        
        document.getElementById("date2").innerText = "MÃ´re is "  + tdayName + " " + tdd + " " + tmmm + " " + tccyy;
    </script>


    <p class="last-updated">Loading last updated date...</p>

    <script>
        const user = "Jacques007";   // Replace with your GitHub username
        const repo = "Mom-Tablet-Kiosk";         // Replace with your repository name

        fetch(`https://api.github.com/repos/${user}/${repo}`)
            .then(response => response.json())
            .then(data => {
                const updatedDate = new Date(data.updated_at);
                document.querySelector(".last-updated").textContent =
                    `Last updated: ${updatedDate.toDateString()}`;
            })
            .catch(error => {
                console.error("Error fetching data:", error);
                document.querySelector(".last-updated").textContent =
                    "Could not load last updated date.";
            });
    </script>

    <div id="version">Loading version...</div>
	<script>
    fetch('https://api.github.com/repos/Jacques007/Mom-Tablet-Kiosk/commits/main')
        .then(response => response.json())
        .then(data => {
            const commitHash = data.sha.substring(0, 7);
                document.getElementById('version').innerHTML = 
                `Build: ${commitHash};
        });
    </script>
	
	<script src="scripts/tasks.js"></script>

	    <script>
      // Replace with your coordinates - get weather
      const lat = -33.81754, lon = 18.71517;
      const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&daily=temperature_2m_max&timezone=auto`;

      fetch(url)
        .then(r => r.json())
        .then(data => {
          // Take the first day's max temp in Â°C
          const maxC = data.daily.temperature_2m_max[0];
          const date = data.daily.time[0];
          document.getElementById('highC').textContent = `Vandag se hoogste temperatuur is : ${maxC.toFixed(1)} Â°C`;
        })
        .catch(err => console.error(err));
    </script>

	<!-- Tic Tac Toe -->
	<script>
   const board = Array(9).fill(null);
    const cells = document.querySelectorAll('.cell');
    const status = document.getElementById('status');
    const restartBtn = document.getElementById('restart');
    let gameOver = false;

    const winningCombos = [
      [0,1,2], [3,4,5], [6,7,8],
      [0,3,6], [1,4,7], [2,5,8],
      [0,4,8], [2,4,6]
    ];

    function checkWinner(b = board) {
      for (let combo of winningCombos) {
        const [a, bIdx, c] = combo;
        if (b[a] && b[a] === b[bIdx] && b[a] === b[c]) {
          return b[a];
        }
      }
      return null;
    }

    function boardFull(b = board) {
      return !b.includes(null);
    }

    function getEmpty(b = board) {
      return b.map((cell, i) => cell === null ? i : -1).filter(i => i >= 0);
    }

    // SUPER EASY AI for Mom â€“ wins/draws ~30% of games, you win ~70%!
    function aiMove() {
      const emptySpots = getEmpty();

      // 1. Check if AI can win (20% chance to "miss" even this)
      if (Math.random() < 0.8) {
        for (let i = 0; i < 9; i++) {
          if (board[i] === null) {
            board[i] = 'O';
            if (checkWinner()) {
              placeMark(i, 'O');
              updateStatus();
              return;
            }
            board[i] = null;
          }
        }
      }

      // 2. Check if player is about to win (50% chance to block)
      if (Math.random() < 0.5) {
        for (let i = 0; i < 9; i++) {
          if (board[i] === null) {
            board[i] = 'X';
            if (checkWinner()) {
              board[i] = null;
              placeMark(i, 'O');
              updateStatus();
              return;
            }
            board[i] = null;
          }
        }
      }

      // 3. Otherwise... PURE RANDOM (60% of all moves are random now!)
      if (emptySpots.length > 0) {
        const randomMove = emptySpots[Math.floor(Math.random() * emptySpots.length)];
        placeMark(randomMove, 'O');
        updateStatus();
      }
    }

    function placeMark(index, mark) {
      board[index] = mark;
      const cell = cells[index];
      cell.textContent = mark;
      cell.classList.add(mark.toLowerCase());
    }

    function playerMove(index) {
      if (gameOver || board[index]) return;
      placeMark(index, 'X');
      updateStatus();
      if (!gameOver) {
        setTimeout(aiMove, 800); // Slower AI for easier wins
      }
    }

    function updateStatus() {
      const winner = checkWinner();
      if (winner) {
        if (winner === 'X') {
          status.textContent = "You Win! ðŸŽ‰ðŸ†ðŸ‘";
          // Flash win message
          status.style.color = '#28a745';
          setTimeout(() => status.style.color = '', 2000);
        } else {
          status.textContent = "Computer Wen! ðŸ˜Ž";
        }
        gameOver = true;
        return;
      }
      if (boardFull()) {
        status.textContent = "Dis is Gelykop! ðŸ¤";
        gameOver = true;
        return;
      }
      gameOver = false;
      const xCount = board.filter(c => c === 'X').length;
      if (xCount > board.filter(c => c === 'O').length) {
        status.textContent = "Computer se beurt... ðŸ¤–";
      } else {
        status.textContent = "Jou Beurt! ðŸ‘†";
      }
    }

    function restart() {
      board.fill(null);
      cells.forEach((cell) => {
        cell.textContent = '';
        cell.classList.remove('x', 'o');
      });
      status.style.color = '';
      gameOver = false;
      updateStatus();
    }

    cells.forEach((cell, index) => {
      cell.addEventListener('click', () => playerMove(index));
    });

    restartBtn.addEventListener('click', restart);

    updateStatus();
		
	</script>
</body>

</html>
